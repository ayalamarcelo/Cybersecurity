# Autenticación, autorización y trazabilidad

## Controles de acceso y sistemas de autenticación
AAA framework:

- Authentication
- Authorization
- Accounting
  
Los sistemas de autenticación son controles de acceso para algo básico. A lo que intenta acceder a información simplemente preguntan "¿Quién eres?". La forma de obtener las respuestas a estas preguntas varía según los objetivos de la política de seguridad algunas son más minuciosas, pero generalmente las respuestas se basan en tres factores de autenticación. 

## Factores de autenticación

1. Knowledge: something the user knows
2. Ownership: something the user possesses
3. Characteristic: something the user is

El conocimiento , la autenticación por conocimiento es algo que se conoce, como una contraseña o la respuesta a una pregunta de seguridad que se dio antes. Otro factor es la propiedad, algo que el usuario posee. Una autenticación de propiedad común es un código de un solo(OTP). Este factor de autenticación es inherente al usuario un ejemplos es el escaneo de datos biométricos, como el de una huella digital. Aunque no se usa en todas parte, esta autenticación es cada vez más común porque es más dificil robar una identidad con un escaneo facila o de huella digital en lugar de usar una contraseña. La información dada en la autenticación debe coincidir con la del archivo para que el control funcione. Si las credenciales no coinciden la autenticación falla y no se da acceso. Si conciden, se otorga acceso. Denegar incorrectamente el acceso es frustante. Para optimizar el sistema, muchas empresas usan el inicio de sesión único. `Single sign-on`(SSO) cuna tecnología que combina varios inicios de sesión en uno solo. En lugar de pedir a los usuarios autenticarse cada vez, el SSO establece su identidad una vez y les da acceso a los recursos más rápido. Aunque los sistemas de SSO aceleran el proceso de autenticación, presentan una vulnerabilidad si se usan solos. Denegar acceso a usuarios autorizados es frustante, pero es peor dar acceso al usuario equivocado. El SSO es excelente, pero no si usa un solo factor de autenticación. Se fortalece con más factores de autenticación. La (MFA) autenticación de múltiples factores es una medidad de seguridad, que pide al usuario verificar su identidad de dos o más formas para obtener acceso. La MFA combina dos o más credenciales, como el conocimiento y propiedad para verificar la identidad de alguien. El SSO y MFA suelen usarse en conjunto para aumentar la defensa de los sistemas de autenticación. Al usarlos en conjunto, se otorga acceso de forma práctica y segura.

## Los mecanismos de autorización
La autorización se vincula con la idea de que el acceso solo debe durar lo necesario. Los sitemas de autorización también se apoyan en esta idea, además de otro principio de seguridad, la separación de funciones. Además de otro principio de seguridad la separación de funciones. La separación de funciones consiste en que los usuarios no se deben recibir niveles de autorización con los que pueden abusar del sistema. Separar funciones reduce el riesgo de fallos del sistema y comportamiento inapropiado de usuarios. Por ejemplo, un agente de atención al cliente no debe poder calificar su propio rendimiento. Si puede hacerlo, podría descuidar su trabajo y otorgarse calificaciones buenas sin supervisión. Del mismo modo, si alguien puede crear un sistema de seguridad, es probable que no verá las debilidades. El principio del mínimo privilegio y el concepto de separación de funciones no solo se aplican a personas, suno a todos los sistemas como redes, bases de datos, procesos y cualquier otro aspecto de la empresa. 

## HTTP y OAuth
HTTP significa protocolo de transferencia de hipertextos, que es la forma de comunicarse por la red. Usa la autenticación básica, la tecnología para crear la solicitud de acceso de un usuario a un servidor. La autenticación básica envía un identificador al comunicarse con una página web. Algunos sitios aún la usan para otorgar acceso a al información o no. Sin embargo, su protocolo es vulnerable a ataques porque transmite nombres de usuario y contraseñas abiertamente por la red. La mayoría de los sitios actuales usa HTTPS, que significa protocolo seguro de transferencia de hipertexto. Este protocolo no expone información sensible, como credenciales de acceso, al comunicarse por la red. 
Otra tecnología de autenticación segura usada actualmente es OAuth. Un protocolo de autorización de estándar abierto que comparte acceso designado entre apps. Por ejemplo, puedes decirle a Google que aceptas que otro sitio vea tu perfil para crear una cuenta. En lugar de pedir y enviar por la red nombres y contraseñas sensibles, OAuth usa tokens API para verificar el acceso entre tú y un proveedor. Un API Token es un pequeño bloque de código cifrado con datos de un usuario. Estos tokens contienen cosas como tu identidad, permisos de sitios y más. OAuth envía y recibe solicitudes de acceso con tokens API pasándolos de un servidor al dispositivo de un usuario. 

## Trazabilidad
La trazabilidad es monitorear los registros de acceso de un sistema. Estos registros indican por ejemplo, quién accedió, cuándo y qué recuros usó. Los analistas usan mucho los registros de acceso. Sus datos sirven para identificar tendencias, como intentos de inicio de sesión. También se usan para descubrir hackers que accedieron al sistema y detectar incidentes, como una filtración de datos. Los registros de acceso son esenciales. Al investigar un evento, lo primero que suele hacerse es analizarlos. ¿Cómo compilan los registros de acceso toda esta información útil? Analicemos esto. Cuando un usuario accede al sistema, inicia una sesión. Una sesión es una secuencia de solicitudes y respuestas HTTP de autenticación básica de red asociadas con el mismo usuario, como al visitar un sitio web. Los registros de acceso son registros de sesiones que capturan cuándo el usuario accede y cuándo abandona el sistema. Dos acciones se desencadenan cuando comienza la sesión. Primero, se crea una ID de sesión. Una ID se vincula al usuario hasta cerrar el navegador o agotar el tiempo de la sesión. La segunda acción es el intercambio de cookies de sesión entre un servidor y el dispositivo del usuario. Una cookie de sesión es un token que los sitios web utilizan para validar una sesión y determinar su duración. Al intercambiar cookies entre tu computadora y un servidor, tu ID de sesión se lee para decidir qué información se debe mostrar. Las sesiones son más seguras y eficientes con las cookies. Con el intercambio de tokens, no se comparte información sensible como nombres o contraseñas. Estas cookies evitan que se filtren datos confidenciales. Pero los atacantes pueden causar otros daños. Con una cookie robada, un atacante puede hacerse pasar por un usuario. Este ataque se llama secuestro de sesión. El secuestro de sesión ocurre cuando el atacante obtiene la ID de sesión real de un usuario. En este ataque, el ciberdelincuente suplanta al usuario y puede causar todo tipo de daños. Puede robar dinero o datos privados. Si, por ejemplo, obtiene una credencual de inicio de sesión único, o SSO, de cookies robadas, incluso puede acceder a otros sistemas que son seguros en condiciones normales. Por esto la trazabilidad y el monitoreo de registros son tan importantes.

